"use strict";var WPFormsCaptcha=window.WPFormsCaptcha||function(r){var a={init:function(){r(a.ready)},ready:function(){r("#wpforms-builder").on("change",".wpforms-field-option-captcha .wpforms-field-option-row-format select",a.formatToggle).on("click",".wpforms-field-option-row-questions .add",a.addQuestion).on("click",".wpforms-field-option-row-questions .remove",a.removeQuestion).on("input",".wpforms-field-option-row-questions .question",_.debounce(a.updateQuestion,300))},formatToggle:function(){var t=r(this),e=t.val(),t=t.parent().data("field-id"),o=r("#wpforms-field-option-row-"+t+"-questions"),t=r("#wpforms-field-option-row-"+t+"-size");"math"===e?(o.hide().addClass("wpforms-hidden"),t.hide()):(o.show().removeClass("wpforms-hidden"),t.show())},addQuestion:function(t){t.preventDefault();var t=r(this),e=t.closest("li"),t=t.closest(".choices-list"),o=t.data("field-id"),i=t.attr("data-next-id"),e=e.clone().insertAfter(e),o="fields["+o+"][questions]["+i+"]";e.attr("data-key",i),e.find("input.question").val("").attr("name",o+"[question]"),e.find("input.answer").val("").attr("name",o+"[answer]"),t.attr("data-next-id",++i)},removeQuestion:function(t){t.preventDefault();var t=r(this),e=t.closest("li"),t=t.closest(".choices-list"),o=t.find(".question"),i=t.data("field-id"),o=a.getTotalNotEmptyQuestions(o);if(1<o||1===o&&0===e.find(".question").val().trim().length)return e.remove(),void r("#wpforms-field-"+i).find(".wpforms-question").text(t.find(".question").val());a.showAlert(null)},updateQuestion:function(){var t=r(this),e=t.closest(".choices-list"),o=e.find(".question"),e=e.data("field-id"),i=a.getTotalNotEmptyQuestions(o),n=t.val().trim(),s=t.data("prev-value")||"";!n.length&&i<1?a.showAlert(function(){t.val(s)}):(t.data("prev-value",n),t.is(o[0])&&r("#wpforms-field-"+e).find(".wpforms-question").text(n))},showAlert:function(t){r.alert({title:!1,content:wpforms_builder_custom_captcha.error_not_empty_question,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"],action:t}}})},getTotalNotEmptyQuestions:function(t){return t.filter(function(){return this.value.trim().length}).length}};return a}((document,window,jQuery));WPFormsCaptcha.init();